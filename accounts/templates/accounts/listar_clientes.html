<!--
se creó este archivo para listar los clientes registrados en la base de datos.
--> {% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <title>Clientes Registrados</title>
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #1bbfe3 0%, #eb8a28 100%);
        margin: 0;
        padding: 40px;
      }

      .container {
        background: #fff;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        max-width: 1000px;
        margin: auto;
      }

      h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #333;
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      th,
      td {
        padding: 12px 15px;
        text-align: left;
      }

      thead {
        background: linear-gradient(135deg, #4CAF50, #45a049);
        color: white;
      }

      tr:nth-child(even) {
        background: #f9f9f9;
      }

      tr:hover {
        background: #f1f1f1;
      }

      /* Estilos para los botones del dashboard */
      .alert {
        padding: 15px;
        border-radius: 10px;
        color: white;
        font-weight: 600;
        margin-bottom: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      /* Estilos para los mensajes de alerta */
      .alert-success {
        background-color: #28a745;
      }

      .alert-error {
        background-color: #dc3545;
      }

      .alert-info {
        background-color: #17a2b8;
      }

      /* Estilo para el mensaje de volver al menu principal*/
      .btn-volver {
        display: inline-block;
        background: #007bff;
        color: white;
        padding: 12px 20px;
        border-radius: 10px;
        text-decoration: none;
        font-weight: bold;
        transition: background 0.3s;
      }

      .btn-volver:hover {
        background: #0056b3;
      }
    </style>
  </head>
  <body>
    <!--Estrucuta principal del template-->
    <div class="container"> {% if messages %} <div style="margin-bottom: 20px;"> {% for message in messages %} <div class="alert {% if message.tags == 'success' %}alert-success{% elif message.tags == 'error' %}alert-error{% else %}alert-info{% endif %}">
          {{ message }}
        </div> {% endfor %} </div> {% endif %} <h1>Clientes Registrados</h1>
      <div style="text-align: right; margin-bottom: 20px;">
        <a href="{%url 'registrar_cliente' %}" class="dashboard-btn" style="background: #4CAF50; color: white; padding: 10px 16px; border-radius: 10px; text-decoration: none;">Agregar nuevo cliente</a>
      </div>
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>DUI</th>
            <th>Email</th>
            <th>Teléfono</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody> {% for c in clientes %} <tr>
            <td>{{ c.nombre }}</td>
            <td>{{ c.dui }}</td>
            <td>{{ c.email }}</td>
            <td>{{ c.telefono }}</td>
            <td>
              <a href="{% url 'editar_cliente' c.id %}" style="color: #fff; background: #4CAF50; padding: 6px 12px; border-radius: 5px; text-decoration: none;">Editar</a>
              <a href="{% url 'eliminar_cliente' c.id %}" style="color: #fff; background: #dc3545; padding: 6px 12px; border-radius: 5px; text-decoration: none; margin-left: 8px;" onclick="return confirm('¿Estás seguro que deseas eliminar este cliente?')">Eliminar</a>
            </td>
          </tr> {% empty %} <tr>
            <td colspan="5">No hay clientes registrados.</td>
            <!--Se muestra este mensaje si no hay clientes registrados-->
          </tr> {% endfor %} </tbody>
      </table>
      <br>
      <div style="text-align: center; margin-top: 20px;">
        <a href="{% url 'menu_principal' %}" class="btn-volver"> Volver al menú principal </a>
        <!-- Botón para volver al menú principal -->
      </div>
    </div>
    </div>
    <script>
      /* Script para ocultar las alertas después de 4 segundos*/
      setTimeout(() => {
        document.querySelectorAll('.alert').forEach(alert => {
          alert.style.transition = 'opacity 0.5s ease';
          alert.style.opacity = '0';
          setTimeout(() => alert.remove(), 500);
        });
      }, 4000);
    </script>
  </body>
</html>